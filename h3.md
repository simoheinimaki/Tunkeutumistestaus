# h3
## Tiivistelmät
### OWASP 2021

#### A01:2021 – Broken Access Control 

Access controllilla mahdollistetaan käyttäjien toimiminen vain omien oikeuksien puitteissa. Esimerkiksi johtajilla voi olla korkeammat oikeudet kuin perus työntekijällä. On olemassa kuitenkin keinoja, millä omia oikeuksia voi kohottaa, tai tarkistukset voi ohittaa.

### PortSwigget Academy
#### Insecure direct object references (IDOR)
IDOR haavoittuvaisuudella tarkoitetaan sitä, kun tunnistautumiseen käytetään jotain muutettavaa arvoa ja se on vapaasti muutettavissa. Esimerkiksi url osoitteessa voi lopussa lukea käyttäjän numero, jota vaihtamalla pääsee käsiksi toisen käyttäjän tietoihin.
#### Path traversal
Path traversal on haavoittuvuus, jossa hyökkääjä pääsee käsiksi koodiin tai sovelluksen tiedostoihin, joka voi sisältää esimerkiksi käyttäjätunnuksia tai arkaluontoisia dokumentteja ja tiedostoja. Joissain hyökkäystapauksissa hyökkääjä pääsee myös muokkaamaan tärkeitä tiedostoja.
#### Cross-site scripting
Cross-site scriptingillä tarkoitetaan hyökkääjän syöttämää Java-sript koodia verkkosivun sisältöön. Kun koodi on sisällytetty sivustolle, voi hyökkääjä manipuloida toisen sivun käyttäjän kokemusta nettisivulla.
## a) Totally Legit Sertificate
Asensin zaproxyn komennolla:

    sudo apt-get install zaproxy
<img width="751" height="297" alt="kuva" src="https://github.com/user-attachments/assets/470e433d-2684-4696-9be6-84bbad1b3356" />

Asennuksen jälkeen lähdin etsimään CA sertifikaattia ZAP:issa. Jokaisen ohjeen mukaan polku on "Tools -> Options -> Dynamic SSL Certificates", mutta tätä viimeista kohtaa ei ole ZAP:issa ollenkaan. Lopulta Löysin CA sertifikaatin kohdasta Network, ja tallensin valmiiksi generoidun sertifikaatin koneelleni.
<img width="827" height="612" alt="kuva" src="https://github.com/user-attachments/assets/8cd6f459-1190-402b-9405-cd63a06a473e" />

Importtasin Generoidun sertifikaatin selaimeen Firefoxin Privacy & Security asetuksista.
<img width="702" height="492" alt="kuva" src="https://github.com/user-attachments/assets/d5f9bd90-162e-4cba-9bb0-b3197c2f31d6" />

<img width="657" height="87" alt="kuva" src="https://github.com/user-attachments/assets/ca8edc53-2743-4aa8-a469-4640442514a3" />

Lisäsin ZAP:in proxyksi ja kokeilin ilmestyykö hakupyynnöt ZAP:iin virkistämällä sivun.
<img width="772" height="748" alt="kuva" src="https://github.com/user-attachments/assets/918f9376-ff97-409d-9362-c12e88cc2f71" />

<img width="1907" height="380" alt="kuva" src="https://github.com/user-attachments/assets/ac456db0-e3de-427f-9650-8f58d5d1a628" />

## b) Kettumaista
Asensin firefoxiin foxyproxyn ja lisäsin zapin sinne proxyksi asetuksista.
<img width="1247" height="567" alt="kuva" src="https://github.com/user-attachments/assets/59d1d0f9-2aac-4b71-a752-00e0d95e9645" />

Yritin käyttää Patterns toimintoa, mutta en saanut sitä toimimaan halutulla tavalla. Kysyin neuvoa tekoälyltä ja tein ohjeen, mukaan, mutta silti kaikki liikenne tuli ZAP:iin

<img width="1280" height="477" alt="kuva" src="https://github.com/user-attachments/assets/96955a05-b91e-4e7b-851a-15c91390cbcd" />

## Lähteet
Tehtäväsivu: https://terokarvinen.com/tunkeutumistestaus/#aikataulu

OWASP 2021: OWASP Top 10:2021: https://owasp.org/Top10/A01_2021-Broken_Access_Control/

PortSwigger Academy. IDOR: https://portswigger.net/web-security/access-control/idor

Port Swigger Academy. Path traversal: https://portswigger.net/web-security/file-path-traversal

Port Swigger Academy. Cross-site scripting: https://portswigger.net/web-security/cross-site-scripting

ZAP-Getting started: https://www.zaproxy.org/getting-started/
