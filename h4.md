# h4
## Find Hidden Web Directories - Fuzz URLs with ffuf
- Ffuf on erittäin nopea Weppi fusseri.
- Web servereillä on usein piilotettuja hakemistoja, mitä voi yrittää etsiä manuaalisesti tai fussaamalla.
- Fusserin käyttöä kannattaa harjoitella paikallisesti, Jottei paketit vuoda nettiin.

Fuff asennus:

    sudo apt-get update
<br>

    sudo apt-get install ffuf

## ffuf README
- Kun Ffuf ajetaan, se tarkistaa ensin konfigurointitiedoston "fuffrc" olemassa olon.
- Konfigurointi komennot yliajavat konfigurointitiedoston sisällön.
- Fussaamiseen voi asettaa maksimiajan "-maxtime" parametrilla

## a) Fuzzzz
Aloitan tehtävän dirfuzt-1 ratkaisemisen lataamalla ensin binäärin ja asennan sen dirfuzt-0 tehtävän tavoin.
<img width="805" height="216" alt="kuva" src="https://github.com/user-attachments/assets/93314070-ee37-48d4-9533-945b0913b91f" />
<img width="368" height="152" alt="kuva" src="https://github.com/user-attachments/assets/7f90da3c-5710-4064-97f0-7c7b51034a3a" />

Asennettuani harjoitusmaalin, asensin ffufin ja latasin sanalistan

    sudo apt-get install ffuf
<br>

    wget https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/Web-Content/common.txt

Sitten aloin fussaamaan

<img width="672" height="357" alt="kuva" src="https://github.com/user-attachments/assets/25891426-1a50-43b0-b4d0-e23e425aae06" />

Tuloksissa selvästi suurimman osan koko oli 154, joten oletan että nämä eivät ole haluttuja tuloksia, ja suodatan ne pois lisäämällä loppuun parametrin -fs 154

<img width="738" height="157" alt="kuva" src="https://github.com/user-attachments/assets/3a1fc7ce-dcea-4eb6-91e2-c7245ab20f2a" />

Jäljelle ei jäänyt montaa sanaa, joten valitsin niistä isoimman eli wp-admin. 

Sana oli oikein ja tehtävä on ratkaistu

<img width="555" height="211" alt="kuva" src="https://github.com/user-attachments/assets/7d679645-5262-4c5a-8a91-5e9ed8f00439" />

## b) Ffuf me

Asennan fuffme harjoitusmaalin sivuston [fuffme](https://terokarvinen.com/2023/fuffme-web-fuzzing-target-debian/) ohjeiden mukaan.

    sudo apt-get install docker.io git ffuf

    git clone https://github.com/adamtlangley/ffufme

    cd ffufme/

    sudo docker build -t ffufme .
<img width="1896" height="441" alt="kuva" src="https://github.com/user-attachments/assets/693771c6-91d1-4105-95e6-ea0bf316f197" />
Asennuksen jälkeen käynnistin maalin dockerilla

    sudo docker run -d -p 80:80 ffufme
<img width="997" height="658" alt="kuva" src="https://github.com/user-attachments/assets/3b453be1-a6f5-44df-ba1e-57f77ac72b53" />

Kun Maali on pystyssä, lataan sanalistat

     wget http://ffuf.me/wordlist/common.txt

     wget http://ffuf.me/wordlist/parameters.txt 

     wget http://ffuf.me/wordlist/subdomains.txt

Nämä ladattuani, voin alkaa tekemään [ffufme](http://ffuf.me/) tehtäviä

## c) Basic Content Discovery
Ensimmäisessä tehtävässä fussaan nettisivun ja löydän tiedostot "class" ja "development log"

<img width="765" height="432" alt="kuva" src="https://github.com/user-attachments/assets/6aef8edd-30c0-42b8-be8c-df12c3fd7ac9" />

sijoitan sanat URL osoitteen jatkeeksi ja tehtävä on suoritettu.

<img width="446" height="132" alt="kuva" src="https://github.com/user-attachments/assets/722dbf14-1538-46a4-85ec-ca482bf7ca74" />

## d) Content Discovery With Recursion
Tehtävässä käytetään -recursion toimintoa, jolla ffuf aloittaa uuden fussauksen löydetyn hakemiston sisältä, kunnes ei pääse enään pidemmälle.
<img width="766" height="580" alt="kuva" src="https://github.com/user-attachments/assets/06917951-6506-4ff1-914d-b427dcc62232" />

Tuloksena hakemistopolku kasvoi ja haluttu tiedosto "96" löytyi.

Sijoitin polun perään "96" ja tehtävä on ratkaistu

<img width="402" height="62" alt="kuva" src="https://github.com/user-attachments/assets/db484f32-401c-4299-a413-562f54024ea9" />

## e) Content Discovery With File Extensions

Tehtävässä käytetään parametria -e muuttujalla .log, rajataksemme haun .log tiedostoihin.

Tavoitteena on löytää users.log tiedosto

<img width="822" height="437" alt="kuva" src="https://github.com/user-attachments/assets/98ab6aa2-cd7d-4c1f-953f-cc801bd63cd5" />

<img width="401" height="57" alt="kuva" src="https://github.com/user-attachments/assets/5bff1ab7-5ac2-4f93-b7c0-37f1170acf32" />

## f) No 404 Status

Tässä tehtävässä tavoiteena löytää sana "secret

Suodatan tuloksista kaikki 669 kokoiset sanat pois kuten a tehtävässä.
<img width="762" height="446" alt="kuva" src="https://github.com/user-attachments/assets/71323713-55aa-46b0-b50b-56542fa69887" />

<img width="351" height="63" alt="kuva" src="https://github.com/user-attachments/assets/98fe2370-3191-46e6-b288-b9689c784ec5" />


## g) Param Mining

Tehtävässä yritään fussaamalla selvittää puuttuva parametri.

<img width="761" height="432" alt="kuva" src="https://github.com/user-attachments/assets/23b8c279-8ebc-4313-a864-24e83bc8d54d" />

<img width="387" height="65" alt="kuva" src="https://github.com/user-attachments/assets/545e43aa-93e2-4cfa-b10a-9f2a37568caa" />

## h) Rate Limited
Fussaamista voi hidastaa, välttääkseen bännien saamista palvelimella. -p 0.1, lisää 0.1 sekunnin tauon pyyntöjen väliin. -t 5, rajaa pyyntöjen määrää maksimissaan 50 kertaa sekunnissa.

<img width="761" height="428" alt="kuva" src="https://github.com/user-attachments/assets/46909f33-2943-40a7-a972-118661ad6268" />

<img width="341" height="70" alt="kuva" src="https://github.com/user-attachments/assets/1f5cd63c-5b14-4d96-be8a-a61931447f6c" />


## i) Subdomains - Virtual Host Enumeration

<img width="803" height="446" alt="kuva" src="https://github.com/user-attachments/assets/ee9dbac8-5a00-4c0c-ac63-094bab71014e" />

## Lähteet
Tehtävänanto. Luettavissa: https://terokarvinen.com/tunkeutumistestaus/#aikataulu 

Karvinen 2023. Find Hidden Web Directories - Fuzz URLs with ffuf. Luettavissa: https://terokarvinen.com/2023/fuzz-urls-find-hidden-directories/

Hoikkala 2023. Fuff README. Luettavissa: https://github.com/ffuf/ffuf/blob/master/README.md 
